{% extends "base.html" %}
{% block content %}
    <div class="flex items-center pb-3 mb-3 border-b justify-between">
        <h1 class="text-lg font-bold lg:text-xl xl:text-2xl">{{ room.name }}</h1>
        <a href="{% url "chatrooms:index" %}" class="hover:text-blue-800">All Rooms</a>
    </div>
    <div hx-ext="sse"
         sse-connect="{% url "chatrooms:messages_stream" room.pk %}">
        <ul class="mb-6 w-full space-y-3 divide-y divide-solid"
            hx-get="{% url "chatrooms:latest_message" room.pk %}"
            hx-trigger="sse:new-message"
            hx-swap="beforeend">
            {% for message in messages %}
                {% include "chatrooms/_message.html" %}
            {% endfor %}
        </ul>
    </div>
    {% include "chatrooms/_message_form.html" %}
{% endblock content %}
